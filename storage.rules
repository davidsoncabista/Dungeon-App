rules_version = '2';

service firebase.storage {
  match /b/{bucket}/o {
    match /landing-page-media/{imageId} {
      // Qualquer um pode ler
      allow get, list: if true;

      // Permite criar e atualizar (upload/substituição)
      // se o usuário estiver logado E o arquivo for menor que 5MB.
      allow create, update: if request.auth != null &&
                               request.resource.size < 5 * 1024 * 1024;

      // Permite excluir
      // se o usuário estiver logado (não há verificação de tamanho aqui).
      allow delete: if request.auth != null;
    }
  }
}
